# Настройка JWT с RSA256

## Обзор

Система использует RSA256 вместо симметричного ключа для подписи JWT токенов.

## Архитектура

- **Приватный ключ** (`rsa_private_key.pem`) — хранится на сервере, используется для подписи токенов
- **Публичный ключ** (`rsa_public_key.pem`) — может быть опубликован, используется для проверки токенов

## Автоматическая генерация

При первом запуске сервера RSA ключи генерируются автоматически:
- Ключи сохраняются в `./keys/` директории
- Если ключи уже существуют, они загружаются автоматически
- Размер ключа: 2048 бит

## Конфигурация

```json
{
  "Jwt": {
    "Issuer": "MaskBrowser",
    "Audience": "MaskBrowser",
    "ExpirationMinutes": 15,
    "RsaPrivateKeyPath": "./keys/rsa_private_key.pem",
    "RsaPublicKeyPath": "./keys/rsa_public_key.pem"
  }
}
```

## Безопасность

⚠️ **ВАЖНО**:
- Приватный ключ **НЕ должен** попадать в репозиторий
- Добавьте `keys/` в `.gitignore`
- Регулярно создавайте бэкап ключей
- Не передавайте приватный ключ через сеть

## Проверка работы

После запуска сервера проверьте:
1. Созданы ли файлы ключей в `./keys/`
2. Токены генерируются с алгоритмом `RS256`
3. Токены успешно проверяются

## Публичный ключ для других сервисов

Если нужно распространить публичный ключ на другие сервисы:

```bash
cat ./keys/rsa_public_key.pem
```

Этот ключ можно безопасно публиковать и использовать на других серверах для проверки токенов.

